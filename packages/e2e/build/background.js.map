{"version":3,"file":"background.js","mappings":"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","sources":["webpack://@nexus-wallet/extension-chrome/../src/asserts.ts","webpack://@nexus-wallet/extension-chrome/../src/error.ts","webpack://@nexus-wallet/extension-chrome/../src/index.ts","webpack://@nexus-wallet/extension-chrome/../src/version.ts","webpack://@nexus-wallet/extension-chrome/../../node_modules/tiny-uid/index.js","webpack://@nexus-wallet/extension-chrome/../../node_modules/webext-bridge/node_modules/webextension-polyfill/dist/browser-polyfill.js","webpack://@nexus-wallet/extension-chrome/../../node_modules/webextension-polyfill/dist/browser-polyfill.js","webpack://@nexus-wallet/extension-chrome/./node_modules/json-rpc-2.0/dist/client.js","webpack://@nexus-wallet/extension-chrome/./node_modules/json-rpc-2.0/dist/index.js","webpack://@nexus-wallet/extension-chrome/./node_modules/json-rpc-2.0/dist/internal.js","webpack://@nexus-wallet/extension-chrome/./node_modules/json-rpc-2.0/dist/models.js","webpack://@nexus-wallet/extension-chrome/./node_modules/json-rpc-2.0/dist/server-and-client.js","webpack://@nexus-wallet/extension-chrome/./node_modules/json-rpc-2.0/dist/server.js","webpack://@nexus-wallet/extension-chrome/webpack/bootstrap","webpack://@nexus-wallet/extension-chrome/webpack/runtime/compat get default export","webpack://@nexus-wallet/extension-chrome/webpack/runtime/define property getters","webpack://@nexus-wallet/extension-chrome/webpack/runtime/hasOwnProperty shorthand","webpack://@nexus-wallet/extension-chrome/../../node_modules/nanoevents/index.js","webpack://@nexus-wallet/extension-chrome/../../node_modules/serialize-error/index.js","webpack://@nexus-wallet/extension-chrome/../../node_modules/webext-bridge/dist/index.mjs","webpack://@nexus-wallet/extension-chrome/./src/services/grant.ts","webpack://@nexus-wallet/extension-chrome/./src/services/notification.ts","webpack://@nexus-wallet/extension-chrome/./src/rpc/server.ts","webpack://@nexus-wallet/extension-chrome/./src/services/index.ts","webpack://@nexus-wallet/extension-chrome/./src/services/storage.ts","webpack://@nexus-wallet/extension-chrome/./src/rpc/walletImpl.ts","webpack://@nexus-wallet/extension-chrome/./src/background/main.ts"],"sourcesContent":[null,null,null,null,"const generator = (base) => (\n\ttypeof crypto !== 'undefined' && typeof crypto.getRandomValues === 'function'\n\t\t? () => {\n\t\t\tconst num = crypto.getRandomValues(new Uint8Array(1))[0];\n\t\t\treturn (num >= base ? num % base : num).toString(base)\n\t\t}\n\t\t: () => Math.floor(Math.random() * base).toString(base)\n);\n\nconst uid = (length = 7, hex = false) => (\n\tArray.from({ length }, generator(hex ? 16 : 36)).join('')\n);\n\n// Legacy\nmodule.exports = uid;\n// ES6+\nmodule.exports.default = uid;\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.9.0 - Fri Mar 25 2022 17:00:23 */\n\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n\n  /* vim: set sts=2 sw=2 et tw=80: */\n\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (typeof globalThis != \"object\" || typeof chrome != \"object\" || !chrome || !chrome.runtime || !chrome.runtime.id) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n\n  if (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n    const SEND_RESPONSE_DEPRECATION_WARNING = \"Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)\"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n\n\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n\n          return super.get(key);\n        }\n\n      }\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n\n\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.reject\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n\n\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n\n\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args); // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n\n\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n\n        });\n      };\n\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n\n            if (!(prop in target)) {\n              return undefined;\n            }\n\n            let value = target[prop];\n\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n\n                get() {\n                  return target[prop];\n                },\n\n                set(value) {\n                  target[prop] = value;\n                }\n\n              });\n              return value;\n            }\n\n            cache[prop] = value;\n            return value;\n          },\n\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n\n            return true;\n          },\n\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n\n        }; // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n\n\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n\n      });\n\n      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps an onRequestFinished listener function so that it will return a\n         * `getContent()` property which returns a `Promise` rather than using a\n         * callback API.\n         *\n         * @param {object} req\n         *        The HAR entry object representing the network request.\n         */\n\n\n        return function onRequestFinished(req) {\n          const wrappedReq = wrapObject(req, {}\n          /* wrappers */\n          , {\n            getContent: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          });\n          listener(wrappedReq);\n        };\n      }); // Keep track if the deprecation warning has been logged at least once.\n\n      let loggedSendResponseDeprecationWarning = false;\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n\n\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              if (!loggedSendResponseDeprecationWarning) {\n                console.warn(SEND_RESPONSE_DEPRECATION_WARNING, new Error().stack);\n                loggedSendResponseDeprecationWarning = true;\n              }\n\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n\n          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          } // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n\n\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          }; // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n\n\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          } // Let Chrome know that the listener is replying.\n\n\n          return true;\n        };\n      });\n\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(new Error(extensionAPIs.runtime.lastError.message));\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n\n      const staticWrappers = {\n        devtools: {\n          network: {\n            onRequestFinished: wrapEvent(onRequestFinishedWrappers)\n          }\n        },\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    }; // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n\n\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = globalThis.browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.10.0 - Fri Aug 12 2022 19:42:44 */\n\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n\n  /* vim: set sts=2 sw=2 et tw=80: */\n\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (!globalThis.chrome?.runtime?.id) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n\n  if (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n\n\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n\n          return super.get(key);\n        }\n\n      }\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n\n\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.reject\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n\n\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n\n\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args); // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n\n\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n\n        });\n      };\n\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n\n            if (!(prop in target)) {\n              return undefined;\n            }\n\n            let value = target[prop];\n\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n\n                get() {\n                  return target[prop];\n                },\n\n                set(value) {\n                  target[prop] = value;\n                }\n\n              });\n              return value;\n            }\n\n            cache[prop] = value;\n            return value;\n          },\n\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n\n            return true;\n          },\n\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n\n        }; // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n\n\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n\n      });\n\n      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps an onRequestFinished listener function so that it will return a\n         * `getContent()` property which returns a `Promise` rather than using a\n         * callback API.\n         *\n         * @param {object} req\n         *        The HAR entry object representing the network request.\n         */\n\n\n        return function onRequestFinished(req) {\n          const wrappedReq = wrapObject(req, {}\n          /* wrappers */\n          , {\n            getContent: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          });\n          listener(wrappedReq);\n        };\n      });\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n\n\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n\n          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          } // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n\n\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          }; // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n\n\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          } // Let Chrome know that the listener is replying.\n\n\n          return true;\n        };\n      });\n\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(new Error(extensionAPIs.runtime.lastError.message));\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n\n      const staticWrappers = {\n        devtools: {\n          network: {\n            onRequestFinished: wrapEvent(onRequestFinishedWrappers)\n          }\n        },\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    }; // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n\n\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = globalThis.browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCClient = void 0;\nvar models_1 = require(\"./models\");\nvar internal_1 = require(\"./internal\");\nvar JSONRPCClient = /** @class */ (function () {\n    function JSONRPCClient(_send, createID) {\n        this._send = _send;\n        this.createID = createID;\n        this.idToResolveMap = new Map();\n        this.id = 0;\n    }\n    JSONRPCClient.prototype._createID = function () {\n        if (this.createID) {\n            return this.createID();\n        }\n        else {\n            return ++this.id;\n        }\n    };\n    JSONRPCClient.prototype.timeout = function (delay, overrideCreateJSONRPCErrorResponse) {\n        var _this = this;\n        if (overrideCreateJSONRPCErrorResponse === void 0) { overrideCreateJSONRPCErrorResponse = function (id) {\n            return (0, models_1.createJSONRPCErrorResponse)(id, internal_1.DefaultErrorCode, \"Request timeout\");\n        }; }\n        var timeoutRequest = function (ids, request) {\n            var timeoutID = setTimeout(function () {\n                ids.forEach(function (id) {\n                    var resolve = _this.idToResolveMap.get(id);\n                    if (resolve) {\n                        _this.idToResolveMap.delete(id);\n                        resolve(overrideCreateJSONRPCErrorResponse(id));\n                    }\n                });\n            }, delay);\n            return request().then(function (result) {\n                clearTimeout(timeoutID);\n                return result;\n            }, function (error) {\n                clearTimeout(timeoutID);\n                return Promise.reject(error);\n            });\n        };\n        var requestAdvanced = function (request, clientParams) {\n            var ids = (!Array.isArray(request) ? [request] : request)\n                .map(function (request) { return request.id; })\n                .filter(isDefinedAndNonNull);\n            return timeoutRequest(ids, function () {\n                return _this.requestAdvanced(request, clientParams);\n            });\n        };\n        return {\n            request: function (method, params, clientParams) {\n                var id = _this._createID();\n                return timeoutRequest([id], function () {\n                    return _this.requestWithID(method, params, clientParams, id);\n                });\n            },\n            requestAdvanced: function (request, clientParams) { return requestAdvanced(request, clientParams); },\n        };\n    };\n    JSONRPCClient.prototype.request = function (method, params, clientParams) {\n        return this.requestWithID(method, params, clientParams, this._createID());\n    };\n    JSONRPCClient.prototype.requestWithID = function (method, params, clientParams, id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var request, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        request = (0, models_1.createJSONRPCRequest)(id, method, params);\n                        return [4 /*yield*/, this.requestAdvanced(request, clientParams)];\n                    case 1:\n                        response = _a.sent();\n                        if (response.result !== undefined && !response.error) {\n                            return [2 /*return*/, response.result];\n                        }\n                        else if (response.result === undefined && response.error) {\n                            return [2 /*return*/, Promise.reject(new models_1.JSONRPCErrorException(response.error.message, response.error.code, response.error.data))];\n                        }\n                        else {\n                            return [2 /*return*/, Promise.reject(new Error(\"An unexpected error occurred\"))];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JSONRPCClient.prototype.requestAdvanced = function (requests, clientParams) {\n        var _this = this;\n        var areRequestsOriginallyArray = Array.isArray(requests);\n        if (!Array.isArray(requests)) {\n            requests = [requests];\n        }\n        var requestsWithID = requests.filter(function (request) {\n            return isDefinedAndNonNull(request.id);\n        });\n        var promises = requestsWithID.map(function (request) {\n            return new Promise(function (resolve) { return _this.idToResolveMap.set(request.id, resolve); });\n        });\n        var promise = Promise.all(promises).then(function (responses) {\n            if (areRequestsOriginallyArray || !responses.length) {\n                return responses;\n            }\n            else {\n                return responses[0];\n            }\n        });\n        return this.send(areRequestsOriginallyArray ? requests : requests[0], clientParams).then(function () { return promise; }, function (error) {\n            requestsWithID.forEach(function (request) {\n                _this.receive((0, models_1.createJSONRPCErrorResponse)(request.id, internal_1.DefaultErrorCode, (error && error.message) || \"Failed to send a request\"));\n            });\n            return promise;\n        });\n    };\n    JSONRPCClient.prototype.notify = function (method, params, clientParams) {\n        var request = (0, models_1.createJSONRPCNotification)(method, params);\n        this.send(request, clientParams).then(undefined, function () { return undefined; });\n    };\n    JSONRPCClient.prototype.send = function (payload, clientParams) {\n        return this._send(payload, clientParams);\n    };\n    JSONRPCClient.prototype.rejectAllPendingRequests = function (message) {\n        this.idToResolveMap.forEach(function (resolve, id) {\n            return resolve((0, models_1.createJSONRPCErrorResponse)(id, internal_1.DefaultErrorCode, message));\n        });\n        this.idToResolveMap.clear();\n    };\n    JSONRPCClient.prototype.receive = function (responses) {\n        var _this = this;\n        if (!Array.isArray(responses)) {\n            responses = [responses];\n        }\n        responses.forEach(function (response) {\n            var resolve = _this.idToResolveMap.get(response.id);\n            if (resolve) {\n                _this.idToResolveMap.delete(response.id);\n                resolve(response);\n            }\n        });\n    };\n    return JSONRPCClient;\n}());\nexports.JSONRPCClient = JSONRPCClient;\nvar isDefinedAndNonNull = function (value) {\n    return value !== undefined && value !== null;\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./client\"), exports);\n__exportStar(require(\"./models\"), exports);\n__exportStar(require(\"./server\"), exports);\n__exportStar(require(\"./server-and-client\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultErrorCode = void 0;\nexports.DefaultErrorCode = 0;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createJSONRPCNotification = exports.createJSONRPCRequest = exports.createJSONRPCSuccessResponse = exports.createJSONRPCErrorResponse = exports.JSONRPCErrorCode = exports.JSONRPCErrorException = exports.isJSONRPCResponses = exports.isJSONRPCResponse = exports.isJSONRPCRequests = exports.isJSONRPCRequest = exports.isJSONRPCID = exports.JSONRPC = void 0;\nexports.JSONRPC = \"2.0\";\nvar isJSONRPCID = function (id) {\n    return typeof id === \"string\" || typeof id === \"number\" || id === null;\n};\nexports.isJSONRPCID = isJSONRPCID;\nvar isJSONRPCRequest = function (payload) {\n    return (payload.jsonrpc === exports.JSONRPC &&\n        payload.method !== undefined &&\n        payload.result === undefined &&\n        payload.error === undefined);\n};\nexports.isJSONRPCRequest = isJSONRPCRequest;\nvar isJSONRPCRequests = function (payload) {\n    return Array.isArray(payload) && payload.every(exports.isJSONRPCRequest);\n};\nexports.isJSONRPCRequests = isJSONRPCRequests;\nvar isJSONRPCResponse = function (payload) {\n    return (payload.jsonrpc === exports.JSONRPC &&\n        payload.id !== undefined &&\n        (payload.result !== undefined || payload.error !== undefined));\n};\nexports.isJSONRPCResponse = isJSONRPCResponse;\nvar isJSONRPCResponses = function (payload) {\n    return Array.isArray(payload) && payload.every(exports.isJSONRPCResponse);\n};\nexports.isJSONRPCResponses = isJSONRPCResponses;\nvar createJSONRPCError = function (code, message, data) {\n    var error = { code: code, message: message };\n    if (data != null) {\n        error.data = data;\n    }\n    return error;\n};\nvar JSONRPCErrorException = /** @class */ (function (_super) {\n    __extends(JSONRPCErrorException, _super);\n    function JSONRPCErrorException(message, code, data) {\n        var _this = _super.call(this, message) || this;\n        // Manually set the prototype to fix TypeScript issue:\n        // https://github.com/Microsoft/TypeScript-wiki/blob/main/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(_this, JSONRPCErrorException.prototype);\n        _this.code = code;\n        _this.data = data;\n        return _this;\n    }\n    JSONRPCErrorException.prototype.toObject = function () {\n        return createJSONRPCError(this.code, this.message, this.data);\n    };\n    return JSONRPCErrorException;\n}(Error));\nexports.JSONRPCErrorException = JSONRPCErrorException;\nvar JSONRPCErrorCode;\n(function (JSONRPCErrorCode) {\n    JSONRPCErrorCode[JSONRPCErrorCode[\"ParseError\"] = -32700] = \"ParseError\";\n    JSONRPCErrorCode[JSONRPCErrorCode[\"InvalidRequest\"] = -32600] = \"InvalidRequest\";\n    JSONRPCErrorCode[JSONRPCErrorCode[\"MethodNotFound\"] = -32601] = \"MethodNotFound\";\n    JSONRPCErrorCode[JSONRPCErrorCode[\"InvalidParams\"] = -32602] = \"InvalidParams\";\n    JSONRPCErrorCode[JSONRPCErrorCode[\"InternalError\"] = -32603] = \"InternalError\";\n})(JSONRPCErrorCode = exports.JSONRPCErrorCode || (exports.JSONRPCErrorCode = {}));\nvar createJSONRPCErrorResponse = function (id, code, message, data) {\n    return {\n        jsonrpc: exports.JSONRPC,\n        id: id,\n        error: createJSONRPCError(code, message, data),\n    };\n};\nexports.createJSONRPCErrorResponse = createJSONRPCErrorResponse;\nvar createJSONRPCSuccessResponse = function (id, result) {\n    return {\n        jsonrpc: exports.JSONRPC,\n        id: id,\n        result: result !== null && result !== void 0 ? result : null,\n    };\n};\nexports.createJSONRPCSuccessResponse = createJSONRPCSuccessResponse;\nvar createJSONRPCRequest = function (id, method, params) {\n    return {\n        jsonrpc: exports.JSONRPC,\n        id: id,\n        method: method,\n        params: params,\n    };\n};\nexports.createJSONRPCRequest = createJSONRPCRequest;\nvar createJSONRPCNotification = function (method, params) {\n    return {\n        jsonrpc: exports.JSONRPC,\n        method: method,\n        params: params,\n    };\n};\nexports.createJSONRPCNotification = createJSONRPCNotification;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCServerAndClient = void 0;\nvar models_1 = require(\"./models\");\nvar JSONRPCServerAndClient = /** @class */ (function () {\n    function JSONRPCServerAndClient(server, client, options) {\n        if (options === void 0) { options = {}; }\n        var _a;\n        this.server = server;\n        this.client = client;\n        this.errorListener = (_a = options.errorListener) !== null && _a !== void 0 ? _a : console.warn;\n    }\n    JSONRPCServerAndClient.prototype.applyServerMiddleware = function () {\n        var _a;\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        (_a = this.server).applyMiddleware.apply(_a, middlewares);\n    };\n    JSONRPCServerAndClient.prototype.hasMethod = function (name) {\n        return this.server.hasMethod(name);\n    };\n    JSONRPCServerAndClient.prototype.addMethod = function (name, method) {\n        this.server.addMethod(name, method);\n    };\n    JSONRPCServerAndClient.prototype.addMethodAdvanced = function (name, method) {\n        this.server.addMethodAdvanced(name, method);\n    };\n    JSONRPCServerAndClient.prototype.timeout = function (delay) {\n        return this.client.timeout(delay);\n    };\n    JSONRPCServerAndClient.prototype.request = function (method, params, clientParams) {\n        return this.client.request(method, params, clientParams);\n    };\n    JSONRPCServerAndClient.prototype.requestAdvanced = function (jsonRPCRequest, clientParams) {\n        return this.client.requestAdvanced(jsonRPCRequest, clientParams);\n    };\n    JSONRPCServerAndClient.prototype.notify = function (method, params, clientParams) {\n        this.client.notify(method, params, clientParams);\n    };\n    JSONRPCServerAndClient.prototype.rejectAllPendingRequests = function (message) {\n        this.client.rejectAllPendingRequests(message);\n    };\n    JSONRPCServerAndClient.prototype.receiveAndSend = function (payload, serverParams, clientParams) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, message;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!((0, models_1.isJSONRPCResponse)(payload) || (0, models_1.isJSONRPCResponses)(payload))) return [3 /*break*/, 1];\n                        this.client.receive(payload);\n                        return [3 /*break*/, 4];\n                    case 1:\n                        if (!((0, models_1.isJSONRPCRequest)(payload) || (0, models_1.isJSONRPCRequests)(payload))) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.server.receive(payload, serverParams)];\n                    case 2:\n                        response = _a.sent();\n                        if (response) {\n                            return [2 /*return*/, this.client.send(response, clientParams)];\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        message = \"Received an invalid JSON-RPC message\";\n                        this.errorListener(message, payload);\n                        return [2 /*return*/, Promise.reject(new Error(message))];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return JSONRPCServerAndClient;\n}());\nexports.JSONRPCServerAndClient = JSONRPCServerAndClient;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCServer = void 0;\nvar models_1 = require(\"./models\");\nvar internal_1 = require(\"./internal\");\nvar createParseErrorResponse = function () {\n    return (0, models_1.createJSONRPCErrorResponse)(null, models_1.JSONRPCErrorCode.ParseError, \"Parse error\");\n};\nvar createInvalidRequestResponse = function (request) {\n    return (0, models_1.createJSONRPCErrorResponse)((0, models_1.isJSONRPCID)(request.id) ? request.id : null, models_1.JSONRPCErrorCode.InvalidRequest, \"Invalid Request\");\n};\nvar createMethodNotFoundResponse = function (id) {\n    return (0, models_1.createJSONRPCErrorResponse)(id, models_1.JSONRPCErrorCode.MethodNotFound, \"Method not found\");\n};\nvar JSONRPCServer = /** @class */ (function () {\n    function JSONRPCServer(options) {\n        if (options === void 0) { options = {}; }\n        var _a;\n        this.mapErrorToJSONRPCErrorResponse = defaultMapErrorToJSONRPCErrorResponse;\n        this.nameToMethodDictionary = {};\n        this.middleware = null;\n        this.errorListener = (_a = options.errorListener) !== null && _a !== void 0 ? _a : console.warn;\n    }\n    JSONRPCServer.prototype.hasMethod = function (name) {\n        return !!this.nameToMethodDictionary[name];\n    };\n    JSONRPCServer.prototype.addMethod = function (name, method) {\n        this.addMethodAdvanced(name, this.toJSONRPCMethod(method));\n    };\n    JSONRPCServer.prototype.toJSONRPCMethod = function (method) {\n        return function (request, serverParams) {\n            var response = method(request.params, serverParams);\n            return Promise.resolve(response).then(function (result) {\n                return mapResultToJSONRPCResponse(request.id, result);\n            });\n        };\n    };\n    JSONRPCServer.prototype.addMethodAdvanced = function (name, method) {\n        var _a;\n        this.nameToMethodDictionary = __assign(__assign({}, this.nameToMethodDictionary), (_a = {}, _a[name] = method, _a));\n    };\n    JSONRPCServer.prototype.receiveJSON = function (json, serverParams) {\n        var request = this.tryParseRequestJSON(json);\n        if (request) {\n            return this.receive(request, serverParams);\n        }\n        else {\n            return Promise.resolve(createParseErrorResponse());\n        }\n    };\n    JSONRPCServer.prototype.tryParseRequestJSON = function (json) {\n        try {\n            return JSON.parse(json);\n        }\n        catch (_a) {\n            return null;\n        }\n    };\n    JSONRPCServer.prototype.receive = function (request, serverParams) {\n        if (Array.isArray(request)) {\n            return this.receiveMultiple(request, serverParams);\n        }\n        else {\n            return this.receiveSingle(request, serverParams);\n        }\n    };\n    JSONRPCServer.prototype.receiveMultiple = function (requests, serverParams) {\n        return __awaiter(this, void 0, void 0, function () {\n            var responses;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Promise.all(requests.map(function (request) { return _this.receiveSingle(request, serverParams); }))];\n                    case 1:\n                        responses = (_a.sent()).filter(isNonNull);\n                        if (responses.length === 1) {\n                            return [2 /*return*/, responses[0]];\n                        }\n                        else if (responses.length) {\n                            return [2 /*return*/, responses];\n                        }\n                        else {\n                            return [2 /*return*/, null];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JSONRPCServer.prototype.receiveSingle = function (request, serverParams) {\n        return __awaiter(this, void 0, void 0, function () {\n            var method, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        method = this.nameToMethodDictionary[request.method];\n                        if (!!(0, models_1.isJSONRPCRequest)(request)) return [3 /*break*/, 1];\n                        return [2 /*return*/, createInvalidRequestResponse(request)];\n                    case 1: return [4 /*yield*/, this.callMethod(method, request, serverParams)];\n                    case 2:\n                        response = _a.sent();\n                        return [2 /*return*/, mapResponse(request, response)];\n                }\n            });\n        });\n    };\n    JSONRPCServer.prototype.applyMiddleware = function () {\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        if (this.middleware) {\n            this.middleware = this.combineMiddlewares(__spreadArray([\n                this.middleware\n            ], middlewares, true));\n        }\n        else {\n            this.middleware = this.combineMiddlewares(middlewares);\n        }\n    };\n    JSONRPCServer.prototype.combineMiddlewares = function (middlewares) {\n        if (!middlewares.length) {\n            return null;\n        }\n        else {\n            return middlewares.reduce(this.middlewareReducer);\n        }\n    };\n    JSONRPCServer.prototype.middlewareReducer = function (prevMiddleware, nextMiddleware) {\n        return function (next, request, serverParams) {\n            return prevMiddleware(function (request, serverParams) { return nextMiddleware(next, request, serverParams); }, request, serverParams);\n        };\n    };\n    JSONRPCServer.prototype.callMethod = function (method, request, serverParams) {\n        var _this = this;\n        var callMethod = function (request, serverParams) {\n            if (method) {\n                return method(request, serverParams);\n            }\n            else if (request.id !== undefined) {\n                return Promise.resolve(createMethodNotFoundResponse(request.id));\n            }\n            else {\n                return Promise.resolve(null);\n            }\n        };\n        var onError = function (error) {\n            _this.errorListener(\"An unexpected error occurred while executing \\\"\".concat(request.method, \"\\\" JSON-RPC method:\"), error);\n            return Promise.resolve(_this.mapErrorToJSONRPCErrorResponseIfNecessary(request.id, error));\n        };\n        try {\n            return (this.middleware || noopMiddleware)(callMethod, request, serverParams).then(undefined, onError);\n        }\n        catch (error) {\n            return onError(error);\n        }\n    };\n    JSONRPCServer.prototype.mapErrorToJSONRPCErrorResponseIfNecessary = function (id, error) {\n        if (id !== undefined) {\n            return this.mapErrorToJSONRPCErrorResponse(id, error);\n        }\n        else {\n            return null;\n        }\n    };\n    return JSONRPCServer;\n}());\nexports.JSONRPCServer = JSONRPCServer;\nvar isNonNull = function (value) { return value !== null; };\nvar noopMiddleware = function (next, request, serverParams) { return next(request, serverParams); };\nvar mapResultToJSONRPCResponse = function (id, result) {\n    if (id !== undefined) {\n        return (0, models_1.createJSONRPCSuccessResponse)(id, result);\n    }\n    else {\n        return null;\n    }\n};\nvar defaultMapErrorToJSONRPCErrorResponse = function (id, error) {\n    var _a;\n    var message = (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : \"An unexpected error occurred\";\n    var code = internal_1.DefaultErrorCode;\n    var data;\n    if (error instanceof models_1.JSONRPCErrorException) {\n        code = error.code;\n        data = error.data;\n    }\n    return (0, models_1.createJSONRPCErrorResponse)(id, code, message, data);\n};\nvar mapResponse = function (request, response) {\n    if (response) {\n        return response;\n    }\n    else if (request.id !== undefined) {\n        return (0, models_1.createJSONRPCErrorResponse)(request.id, models_1.JSONRPCErrorCode.InternalError, \"Internal error\");\n    }\n    else {\n        return null;\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export let createNanoEvents = () => ({\n  events: {},\n  emit(event, ...args) {\n    ;(this.events[event] || []).forEach(i => i(...args))\n  },\n  on(event, cb) {\n    ;(this.events[event] = this.events[event] || []).push(cb)\n    return () =>\n      (this.events[event] = (this.events[event] || []).filter(i => i !== cb))\n  }\n})\n","export class NonError extends Error {\n\tname = 'NonError';\n\n\tconstructor(message) {\n\t\tsuper(NonError._prepareSuperMessage(message));\n\t}\n\n\tstatic _prepareSuperMessage(message) {\n\t\ttry {\n\t\t\treturn JSON.stringify(message);\n\t\t} catch {\n\t\t\treturn String(message);\n\t\t}\n\t}\n}\n\nconst commonProperties = [\n\t{\n\t\tproperty: 'name',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'message',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'stack',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'code',\n\t\tenumerable: true,\n\t},\n];\n\nconst toJsonWasCalled = Symbol('.toJSON was called');\n\nconst toJSON = from => {\n\tfrom[toJsonWasCalled] = true;\n\tconst json = from.toJSON();\n\tdelete from[toJsonWasCalled];\n\treturn json;\n};\n\nconst destroyCircular = ({\n\tfrom,\n\tseen,\n\tto_,\n\tforceEnumerable,\n\tmaxDepth,\n\tdepth,\n}) => {\n\tconst to = to_ || (Array.isArray(from) ? [] : {});\n\n\tseen.push(from);\n\n\tif (depth >= maxDepth) {\n\t\treturn to;\n\t}\n\n\tif (typeof from.toJSON === 'function' && from[toJsonWasCalled] !== true) {\n\t\treturn toJSON(from);\n\t}\n\n\tfor (const [key, value] of Object.entries(from)) {\n\t\t// eslint-disable-next-line node/prefer-global/buffer\n\t\tif (typeof Buffer === 'function' && Buffer.isBuffer(value)) {\n\t\t\tto[key] = '[object Buffer]';\n\t\t\tcontinue;\n\t\t}\n\n\t\t// TODO: Use `stream.isReadable()` when targeting Node.js 18.\n\t\tif (value !== null && typeof value === 'object' && typeof value.pipe === 'function') {\n\t\t\tto[key] = '[object Stream]';\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (typeof value === 'function') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!value || typeof value !== 'object') {\n\t\t\tto[key] = value;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!seen.includes(from[key])) {\n\t\t\tdepth++;\n\n\t\t\tto[key] = destroyCircular({\n\t\t\t\tfrom: from[key],\n\t\t\t\tseen: [...seen],\n\t\t\t\tforceEnumerable,\n\t\t\t\tmaxDepth,\n\t\t\t\tdepth,\n\t\t\t});\n\t\t\tcontinue;\n\t\t}\n\n\t\tto[key] = '[Circular]';\n\t}\n\n\tfor (const {property, enumerable} of commonProperties) {\n\t\tif (typeof from[property] === 'string') {\n\t\t\tObject.defineProperty(to, property, {\n\t\t\t\tvalue: from[property],\n\t\t\t\tenumerable: forceEnumerable ? true : enumerable,\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t});\n\t\t}\n\t}\n\n\treturn to;\n};\n\nexport function serializeError(value, options = {}) {\n\tconst {maxDepth = Number.POSITIVE_INFINITY} = options;\n\n\tif (typeof value === 'object' && value !== null) {\n\t\treturn destroyCircular({\n\t\t\tfrom: value,\n\t\t\tseen: [],\n\t\t\tforceEnumerable: true,\n\t\t\tmaxDepth,\n\t\t\tdepth: 0,\n\t\t});\n\t}\n\n\t// People sometimes throw things besides Error objects\n\tif (typeof value === 'function') {\n\t\t// `JSON.stringify()` discards functions. We do too, unless a function is thrown directly.\n\t\treturn `[Function: ${(value.name || 'anonymous')}]`;\n\t}\n\n\treturn value;\n}\n\nexport function deserializeError(value, options = {}) {\n\tconst {maxDepth = Number.POSITIVE_INFINITY} = options;\n\n\tif (value instanceof Error) {\n\t\treturn value;\n\t}\n\n\tif (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n\t\tconst newError = new Error(); // eslint-disable-line unicorn/error-message\n\t\tdestroyCircular({\n\t\t\tfrom: value,\n\t\t\tseen: [],\n\t\t\tto_: newError,\n\t\t\tmaxDepth,\n\t\t\tdepth: 0,\n\t\t});\n\t\treturn newError;\n\t}\n\n\treturn new NonError(value);\n}\n","// src/stream.ts\nimport { createNanoEvents } from \"nanoevents\";\n\n// src/internal.ts\nimport browser2 from \"webextension-polyfill\";\nimport { serializeError } from \"serialize-error\";\nimport uuid from \"tiny-uid\";\n\n// src/utils.ts\nimport browser from \"webextension-polyfill\";\nvar ENDPOINT_RE = /^((?:background$)|devtools|popup|options|content-script|window)(?:@(\\d+)(?:\\.(\\d+))?)?$/;\nvar parseEndpoint = (endpoint) => {\n  const [, context2, tabId, frameId] = endpoint.match(ENDPOINT_RE) || [];\n  return {\n    context: context2,\n    tabId: +tabId,\n    frameId: frameId ? +frameId : void 0\n  };\n};\nvar isInternalEndpoint = ({ context: ctx }) => [\"content-script\", \"background\", \"devtools\"].includes(ctx);\nvar hasAPI = (nsps) => browser[nsps];\nvar getBackgroundPageType = () => {\n  var _a, _b, _c;\n  const manifest = browser.runtime.getManifest();\n  if (typeof window === \"undefined\")\n    return \"background\";\n  const popupPage = ((_a = manifest.browser_action) == null ? void 0 : _a.default_popup) || ((_b = manifest.action) == null ? void 0 : _b.default_popup);\n  if (popupPage) {\n    const url = new URL(browser.runtime.getURL(popupPage));\n    if (url.pathname === window.location.pathname)\n      return \"popup\";\n  }\n  if ((_c = manifest.options_ui) == null ? void 0 : _c.page) {\n    const url = new URL(browser.runtime.getURL(manifest.options_ui.page));\n    if (url.pathname === window.location.pathname)\n      return \"options\";\n  }\n  return \"background\";\n};\n\n// src/internal.ts\nvar context = hasAPI(\"devtools\") ? \"devtools\" : hasAPI(\"tabs\") ? getBackgroundPageType() : hasAPI(\"extension\") ? \"content-script\" : typeof document !== \"undefined\" ? \"window\" : null;\nvar runtimeId = uuid();\nvar openTransactions = /* @__PURE__ */ new Map();\nvar onMessageListeners = /* @__PURE__ */ new Map();\nvar messageQueue = /* @__PURE__ */ new Set();\nvar portMap = /* @__PURE__ */ new Map();\nvar port = null;\nvar namespace;\nvar isWindowMessagingAllowed;\ninitIntercoms();\nfunction setNamespace(nsps) {\n  namespace = nsps;\n}\nfunction allowWindowMessaging(nsps) {\n  isWindowMessagingAllowed = true;\n  namespace = nsps;\n}\nfunction initIntercoms() {\n  if (context === null)\n    throw new Error(\"Unable to detect runtime context i.e webext-bridge can't figure out what to do\");\n  if (context === \"window\" || context === \"content-script\")\n    window.addEventListener(\"message\", handleWindowOnMessage);\n  if (context === \"content-script\" && top === window) {\n    port = browser2.runtime.connect();\n    port.onMessage.addListener((message) => {\n      routeMessage(message);\n    });\n    port.onDisconnect.addListener(() => {\n      port = null;\n      initIntercoms();\n    });\n  }\n  if (context === \"content-script\" && top !== window) {\n    port = browser2.runtime.connect();\n    port.onMessage.addListener((message) => {\n      routeMessage(message);\n    });\n    port.onDisconnect.addListener(() => {\n      port = null;\n      initIntercoms();\n    });\n  }\n  if (context === \"devtools\") {\n    const { tabId } = browser2.devtools.inspectedWindow;\n    const name = `devtools@${tabId}`;\n    port = browser2.runtime.connect(void 0, { name });\n    port.onMessage.addListener((message) => {\n      routeMessage(message);\n    });\n    port.onDisconnect.addListener(() => {\n      port = null;\n      initIntercoms();\n    });\n  }\n  if (context === \"popup\" || context === \"options\") {\n    const name = `${context}`;\n    port = browser2.runtime.connect(void 0, { name });\n    port.onMessage.addListener((message) => {\n      routeMessage(message);\n    });\n    port.onDisconnect.addListener(() => {\n      port = null;\n      initIntercoms();\n    });\n  }\n  if (context === \"background\") {\n    browser2.runtime.onConnect.addListener((incomingPort) => {\n      let portId = incomingPort.name || `content-script@${incomingPort.sender.tab.id}`;\n      const portFrame = incomingPort.sender.frameId;\n      if (portFrame)\n        portId = `${portId}.${portFrame}`;\n      const { context: context2, tabId: linkedTabId, frameId: linkedFrameId } = parseEndpoint(portId);\n      if (!linkedTabId && context2 !== \"popup\" && context2 !== \"options\")\n        return;\n      portMap.set(portId, incomingPort);\n      messageQueue.forEach((queuedMsg) => {\n        if (queuedMsg.resolvedDestination === portId) {\n          incomingPort.postMessage(queuedMsg.message);\n          messageQueue.delete(queuedMsg);\n        }\n      });\n      incomingPort.onDisconnect.addListener(() => {\n        portMap.delete(portId);\n      });\n      incomingPort.onMessage.addListener((message) => {\n        var _a;\n        if ((_a = message == null ? void 0 : message.origin) == null ? void 0 : _a.context) {\n          message.origin.tabId = linkedTabId;\n          message.origin.frameId = linkedFrameId;\n          routeMessage(message);\n        }\n      });\n    });\n  }\n}\nfunction routeMessage(message) {\n  const { origin, destination } = message;\n  if (message.hops.includes(runtimeId))\n    return;\n  message.hops.push(runtimeId);\n  if (context === \"content-script\" && [destination, origin].some((endpoint) => (endpoint == null ? void 0 : endpoint.context) === \"window\") && !isWindowMessagingAllowed)\n    return;\n  if (!destination)\n    return handleInboundMessage(message);\n  if (destination.context) {\n    if (context === \"window\") {\n      return routeMessageThroughWindow(window, message);\n    } else if (context === \"content-script\" && destination.context === \"window\") {\n      message.destination = null;\n      return routeMessageThroughWindow(window, message);\n    } else if ([\"devtools\", \"content-script\", \"popup\", \"options\"].includes(context)) {\n      if (destination.context === \"background\")\n        message.destination = null;\n      return port.postMessage(message);\n    } else if (context === \"background\") {\n      const { context: destName, tabId: destTabId, frameId: destFrameId } = destination;\n      const { tabId: srcTabId } = origin;\n      if (destName !== \"window\") {\n        message.destination = null;\n      } else {\n        message.destination.tabId = null;\n      }\n      let resolvedDestination = [\"popup\", \"options\"].includes(destName) ? destName : `${destName === \"window\" ? \"content-script\" : destName}@${destTabId || srcTabId}`;\n      if (destFrameId)\n        resolvedDestination = `${resolvedDestination}.${destFrameId}`;\n      const destPort = portMap.get(resolvedDestination);\n      if (destPort)\n        destPort.postMessage(message);\n      else\n        messageQueue.add({ resolvedDestination, message });\n    }\n  }\n}\nasync function handleInboundMessage(message) {\n  const { transactionId, messageID, messageType } = message;\n  const handleReply = () => {\n    const transactionP = openTransactions.get(transactionId);\n    if (transactionP) {\n      const { err, data } = message;\n      if (err) {\n        const dehydratedErr = err;\n        const errCtr = self[dehydratedErr.name];\n        const hydratedErr = new (typeof errCtr === \"function\" ? errCtr : Error)(dehydratedErr.message);\n        for (const prop in dehydratedErr)\n          hydratedErr[prop] = dehydratedErr[prop];\n        transactionP.reject(hydratedErr);\n      } else {\n        transactionP.resolve(data);\n      }\n      openTransactions.delete(transactionId);\n    }\n  };\n  const handleNewMessage = async () => {\n    let reply;\n    let err;\n    let noHandlerFoundError = false;\n    try {\n      const cb = onMessageListeners.get(messageID);\n      if (typeof cb === \"function\") {\n        reply = await cb({\n          sender: message.origin,\n          id: messageID,\n          data: message.data,\n          timestamp: message.timestamp\n        });\n      } else {\n        noHandlerFoundError = true;\n        throw new Error(`[webext-bridge] No handler registered in '${context}' to accept messages with id '${messageID}'`);\n      }\n    } catch (error) {\n      err = error;\n    } finally {\n      if (err)\n        message.err = serializeError(err);\n      routeMessage({\n        ...message,\n        messageType: \"reply\",\n        data: reply,\n        origin: { context, tabId: null },\n        destination: message.origin,\n        hops: []\n      });\n      if (err && !noHandlerFoundError)\n        throw reply;\n    }\n  };\n  switch (messageType) {\n    case \"reply\":\n      return handleReply();\n    case \"message\":\n      return handleNewMessage();\n  }\n}\nfunction assertInternalMessage(msg) {\n}\nasync function handleWindowOnMessage({ data, ports }) {\n  if (context === \"content-script\" && !isWindowMessagingAllowed)\n    return;\n  if (data.cmd === \"__crx_bridge_verify_listening\" && data.scope === namespace && data.context !== context) {\n    const msgPort = ports[0];\n    msgPort.postMessage(true);\n  } else if (data.cmd === \"__crx_bridge_route_message\" && data.scope === namespace && data.context !== context) {\n    const { payload } = data;\n    assertInternalMessage(payload);\n    if (context === \"content-script\") {\n      payload.origin = {\n        context: \"window\",\n        tabId: null\n      };\n    }\n    routeMessage(payload);\n  }\n}\nfunction routeMessageThroughWindow(win, msg) {\n  ensureNamespaceSet();\n  const channel = new MessageChannel();\n  const retry = setTimeout(() => {\n    channel.port1.onmessage = null;\n    routeMessageThroughWindow(win, msg);\n  }, 300);\n  channel.port1.onmessage = () => {\n    clearTimeout(retry);\n    win.postMessage({\n      cmd: \"__crx_bridge_route_message\",\n      scope: namespace,\n      context,\n      payload: msg\n    }, \"*\");\n  };\n  win.postMessage({\n    cmd: \"__crx_bridge_verify_listening\",\n    scope: namespace,\n    context\n  }, \"*\", [channel.port2]);\n}\nfunction ensureNamespaceSet() {\n  if (typeof namespace !== \"string\" || namespace.length === 0) {\n    throw new Error(`webext-bridge uses window.postMessage to talk with other \"window\"(s), for message routing and stuff,which is global/conflicting operation in case there are other scripts using webext-bridge. Call Bridge#setNamespace(nsps) to isolate your app. Example: setNamespace('com.facebook.react-devtools'). Make sure to use same namespace across all your scripts whereever window.postMessage is likely to be used\\``);\n  }\n}\nfunction getCurrentContext() {\n  return context;\n}\n\n// src/apis/onMessage.ts\nfunction onMessage(messageID, callback) {\n  onMessageListeners.set(messageID, callback);\n}\n\n// src/apis/sendMessage.ts\nimport uuid2 from \"tiny-uid\";\nasync function sendMessage(messageID, data, destination = \"background\") {\n  const endpoint = typeof destination === \"string\" ? parseEndpoint(destination) : destination;\n  const errFn = \"Bridge#sendMessage ->\";\n  if (!endpoint.context)\n    throw new TypeError(`${errFn} Destination must be any one of known destinations`);\n  if (context === \"background\") {\n    const { context: dest, tabId: destTabId } = endpoint;\n    if (dest !== \"background\" && !destTabId)\n      throw new TypeError(`${errFn} When sending messages from background page, use @tabId syntax to target specific tab`);\n  }\n  return new Promise((resolve, reject) => {\n    const payload = {\n      messageID,\n      data,\n      destination: endpoint,\n      messageType: \"message\",\n      transactionId: uuid2(),\n      origin: { context, tabId: null },\n      hops: [],\n      timestamp: Date.now()\n    };\n    openTransactions.set(payload.transactionId, { resolve, reject });\n    routeMessage(payload);\n  });\n}\n\n// src/stream.ts\nvar _Stream = class {\n  constructor(t) {\n    this.handleStreamClose = () => {\n      if (!this.isClosed) {\n        this.isClosed = true;\n        this.emitter.emit(\"closed\", true);\n        this.emitter.events = {};\n      }\n    };\n    this.internalInfo = t;\n    this.emitter = createNanoEvents();\n    this.isClosed = false;\n    if (!_Stream.initDone) {\n      onMessage(\"__crx_bridge_stream_transfer__\", (msg) => {\n        const { streamId, streamTransfer, action } = msg.data;\n        const stream = _Stream.openStreams.get(streamId);\n        if (stream && !stream.isClosed) {\n          if (action === \"transfer\")\n            stream.emitter.emit(\"message\", streamTransfer);\n          if (action === \"close\") {\n            _Stream.openStreams.delete(streamId);\n            stream.handleStreamClose();\n          }\n        }\n      });\n      _Stream.initDone = true;\n    }\n    _Stream.openStreams.set(t.streamId, this);\n  }\n  get info() {\n    return this.internalInfo;\n  }\n  send(msg) {\n    if (this.isClosed)\n      throw new Error(\"Attempting to send a message over closed stream. Use stream.onClose(<callback>) to keep an eye on stream status\");\n    sendMessage(\"__crx_bridge_stream_transfer__\", {\n      streamId: this.internalInfo.streamId,\n      streamTransfer: msg,\n      action: \"transfer\"\n    }, this.internalInfo.endpoint);\n  }\n  close(msg) {\n    if (msg)\n      this.send(msg);\n    this.handleStreamClose();\n    sendMessage(\"__crx_bridge_stream_transfer__\", {\n      streamId: this.internalInfo.streamId,\n      streamTransfer: null,\n      action: \"close\"\n    }, this.internalInfo.endpoint);\n  }\n  onMessage(callback) {\n    return this.getDisposable(\"message\", callback);\n  }\n  onClose(callback) {\n    return this.getDisposable(\"closed\", callback);\n  }\n  getDisposable(event, callback) {\n    const off = this.emitter.on(event, callback);\n    return Object.assign(off, {\n      dispose: off,\n      close: off\n    });\n  }\n};\nvar Stream = _Stream;\nStream.initDone = false;\nStream.openStreams = /* @__PURE__ */ new Map();\n\n// src/bridge.ts\nimport uuid3 from \"tiny-uid\";\nimport { createNanoEvents as createNanoEvents2 } from \"nanoevents\";\nvar openStreams = /* @__PURE__ */ new Map();\nvar onOpenStreamCallbacks = /* @__PURE__ */ new Map();\nvar streamyEmitter = createNanoEvents2();\nonMessage(\"__crx_bridge_stream_open__\", (message) => {\n  return new Promise((resolve) => {\n    const { sender, data } = message;\n    const { channel } = data;\n    let watching = false;\n    let off = () => {\n    };\n    const readyup = () => {\n      const callback = onOpenStreamCallbacks.get(channel);\n      if (typeof callback === \"function\") {\n        callback(new Stream({ ...data, endpoint: sender }));\n        if (watching)\n          off();\n        resolve(true);\n      } else if (!watching) {\n        watching = true;\n        off = streamyEmitter.on(\"did-change-stream-callbacks\", readyup);\n      }\n    };\n    readyup();\n  });\n});\nasync function openStream(channel, destination) {\n  if (openStreams.has(channel))\n    throw new Error(\"webext-bridge: A Stream is already open at this channel\");\n  const endpoint = typeof destination === \"string\" ? parseEndpoint(destination) : destination;\n  const streamInfo = { streamId: uuid3(), channel, endpoint };\n  const stream = new Stream(streamInfo);\n  stream.onClose(() => openStreams.delete(channel));\n  await sendMessage(\"__crx_bridge_stream_open__\", streamInfo, endpoint);\n  openStreams.set(channel, stream);\n  return stream;\n}\nfunction onOpenStreamChannel(channel, callback) {\n  if (onOpenStreamCallbacks.has(channel))\n    throw new Error(\"webext-bridge: This channel has already been claimed. Stream allows only one-on-one communication\");\n  onOpenStreamCallbacks.set(channel, callback);\n  streamyEmitter.emit(\"did-change-stream-callbacks\");\n}\nexport {\n  Stream,\n  allowWindowMessaging,\n  getCurrentContext,\n  isInternalEndpoint,\n  onMessage,\n  onOpenStreamChannel,\n  openStream,\n  parseEndpoint,\n  sendMessage,\n  setNamespace\n};\n","import { GrantService, Storage } from '@nexus-wallet/types';\nimport { errors } from '@nexus-wallet/utils';\n\nexport function createGrantService(payload: { storage: Storage<{ grant: string[] }> }): GrantService {\n  const { storage } = payload;\n\n  return {\n    async getIsGranted(payload) {\n      const grantedUrls = await storage.getItem('grant');\n      if (!grantedUrls) return false;\n      return grantedUrls.includes(payload.host);\n    },\n    async grant(payload) {\n      const grantedUrls = await storage.getItem('grant');\n      if (!grantedUrls) {\n        errors.throwError('Storage is not initialized');\n      }\n      grantedUrls.push(payload.host);\n      await storage.setItem('grant', grantedUrls);\n    },\n    async revoke(payload) {\n      const grantedUrls = await storage.getItem('grant');\n\n      if (!grantedUrls) return;\n\n      const revoked = grantedUrls.filter((host) => host === payload.host);\n      await storage.setItem('grant', revoked);\n    },\n  };\n}\n","import { NotificationService } from '@nexus-wallet/types';\nimport { errors } from '@nexus-wallet/utils';\nimport browser from 'webextension-polyfill';\n\nconst NOTIFICATION_WIDTH = 516;\nconst NOTIFICATION_HEIGHT = 640;\n\n// TODO this is a mocked notification service,\n//  just demonstrating how we organize the code\nexport function createNotificationService(): NotificationService {\n  return {\n    async requestGrant({ url }) {\n      const lastFocused = await browser.windows.getLastFocused();\n\n      const notification = await browser.windows.create({\n        type: 'popup',\n        focused: true,\n        top: lastFocused.top,\n        left: lastFocused.left! + (lastFocused.width! - 360),\n        width: NOTIFICATION_WIDTH,\n        height: NOTIFICATION_HEIGHT,\n        url: 'notification.html#/grant',\n      });\n\n      const notificationTabId = notification.tabs?.[0]?.id;\n\n      type MessageListener = Parameters<typeof browser.runtime.onMessage.addListener>[0];\n      const getRequesterAppInfoListener: MessageListener = (message, sender) =>\n        new Promise(async (sendResponse) => {\n          if (notificationTabId !== sender.tab?.id) return;\n          if (message.method !== 'getRequesterAppInfo') return;\n\n          sendResponse({ url });\n          browser.runtime.onMessage.removeListener(getRequesterAppInfoListener);\n        });\n\n      return new Promise((resolve, reject) => {\n        const userHasEnabledWalletListener: MessageListener = (message, sender) =>\n          new Promise((sendResponse) => {\n            if (notificationTabId !== sender.tab?.id) return;\n            if (message.method !== 'userHasEnabledWallet') return;\n\n            sendResponse(void 0);\n            browser.runtime.onMessage.removeListener(userHasEnabledWalletListener);\n            resolve();\n          });\n\n        browser.runtime.onMessage.addListener(getRequesterAppInfoListener);\n        browser.runtime.onMessage.addListener(userHasEnabledWalletListener);\n\n        browser.windows.onRemoved.addListener((windowId) => {\n          if (windowId === notification.id) {\n            browser.runtime.onMessage.removeListener(getRequesterAppInfoListener);\n            browser.runtime.onMessage.removeListener(userHasEnabledWalletListener);\n            reject(errors);\n          }\n        });\n      });\n    },\n    requestSignTransaction() {\n      errors.unimplemented();\n    },\n    requestSignData() {\n      errors.unimplemented();\n    },\n  };\n}\n","import { Endpoint } from 'webext-bridge';\nimport browser from 'webextension-polyfill';\nimport { errors } from '@nexus-wallet/utils';\nimport { RpcMethods, ServerParams } from './types';\nimport { JSONRPCServer } from 'json-rpc-2.0';\nimport { createServicesFactory } from '../services';\n\nexport const server = new JSONRPCServer<ServerParams>();\n\nexport function addMethod<K extends keyof RpcMethods>(\n  method: K,\n  handler: (params: RpcMethods[K]['params'], context: ServerParams) => RpcMethods[K]['result'],\n): void {\n  server.addMethod(method, handler);\n}\n\nlet servicesFactory = createServicesFactory();\n\nexport function createRpcServerParams(payload: { endpoint: Endpoint }): ServerParams {\n  return {\n    getRequesterAppInfo: async () => {\n      const tab = await browser.tabs.get(payload.endpoint.tabId);\n      if (!tab.url || !tab.favIconUrl) {\n        errors.throwError(\n          'It seems that there is no permission for \"permissions.tab\", please check if the \"permissions.tab\" is disabled',\n        );\n      }\n      return { url: tab.url, favIconUrl: tab.favIconUrl };\n    },\n\n    resolveService: (k) => servicesFactory.get(k),\n  };\n}\n","import { GrantService, NotificationService, Promisable, Storage } from '@nexus-wallet/types';\nimport { createGrantService } from './grant';\nimport { createInMemoryStorage } from './storage';\nimport { createNotificationService } from './notification';\n\ninterface Schema {\n  grant: string[];\n}\n\nexport interface Services {\n  storage: Storage<Schema>;\n  grantService: GrantService;\n  notificationService: NotificationService;\n}\n\nexport interface ServicesFactory {\n  get<K extends keyof Services>(name: K): Promisable<Services[K]>;\n}\n\nexport function createServicesFactory(): ServicesFactory {\n  const storage = createInMemoryStorage<Schema>();\n\n  const defaultStorage = {\n    grant: [],\n  };\n  storage.setAll({\n    ...defaultStorage,\n    ...storage.getAll(),\n  });\n\n  const services = {\n    storage,\n    grantService: createGrantService({ storage }),\n    notificationService: createNotificationService(),\n  };\n\n  return {\n    get(key) {\n      return services[key];\n    },\n  };\n}\n","import { Storage } from '@nexus-wallet/types';\nimport { errors } from '@nexus-wallet/utils';\n\ninterface InMemoryStorage<S> extends Storage<S> {\n  getAll(): S | undefined;\n\n  setAll(s: S): void;\n}\n\nexport function createInMemoryStorage<S>(): InMemoryStorage<S> {\n  const store = new Map();\n\n  return {\n    getItem(key) {\n      return store.get(key);\n    },\n    hasItem(key) {\n      return store.has(key);\n    },\n    removeItem(key) {\n      return store.delete(key);\n    },\n    setItem(key, value) {\n      store.set(key, value);\n    },\n    getAll() {\n      return Object.fromEntries(store.entries());\n    },\n    setAll(s) {\n      if (!s) errors.throwError(`The storage cannot be set to ${s}`);\n\n      Object.entries(s).forEach(([key, value]) => {\n        store.set(key, value);\n      });\n    },\n  };\n}\n","import { addMethod } from './server';\nimport { errors } from '@nexus-wallet/utils';\n\naddMethod('wallet_enable', async (_, { getRequesterAppInfo, resolveService }) => {\n  const grantService = await resolveService('grantService');\n  const { url } = await getRequesterAppInfo();\n\n  const { host } = new URL(url);\n\n  const isGranted = await grantService.getIsGranted({ host });\n  if (isGranted) return;\n\n  const granted = await grantService.getIsGranted({ host });\n  if (granted) return;\n\n  const notificationService = await resolveService('notificationService');\n  try {\n    await notificationService.requestGrant({ url });\n  } catch {\n    errors.throwError('User has rejected');\n  }\n\n  await grantService.grant({ host });\n});\n\naddMethod('wallet_fullOwnership_getUnusedLocks', () => {\n  // TODO implement me, this is just a mock\n  return [\n    {\n      codeHash: '0x0000000000000000000000000000000000000000000000000000000000000000',\n      hashType: 'type',\n      args: '0x0000000000000000000000000000000000000000',\n    },\n  ];\n});\n","import { onMessage } from 'webext-bridge';\nimport { createRpcServerParams, server } from '../rpc/server';\nimport '../rpc/walletImpl';\n\n// listen message from content script\nonMessage('rpc', async ({ data, sender }) => server.receive(data, createRpcServerParams({ endpoint: sender })));\n"],"names":["nonEmpty","x","exports","condition","message","makeError","Error","version_1","throwError","Object","enumerable","get","uid","length","hex","Array","from","base","crypto","getRandomValues","num","Uint8Array","toString","Math","floor","random","join","module","globalThis","self","chrome","runtime","id","browser","getPrototypeOf","prototype","CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE","SEND_RESPONSE_DEPRECATION_WARNING","wrapAPIs","extensionAPIs","apiMetadata","keys","DefaultWeakMap","WeakMap","constructor","createItem","items","super","this","key","has","set","makeCallback","promise","metadata","callbackArgs","lastError","reject","singleCallbackArg","resolve","pluralizeArguments","numArgs","wrapMethod","target","method","wrapper","Proxy","apply","targetMethod","thisObj","args","call","hasOwnProperty","Function","bind","wrapObject","wrappers","cache","create","handlers","proxyTarget","prop","receiver","value","name","minArgs","maxArgs","Promise","fallbackToNoCallback","cbError","console","warn","noCallback","wrapAsyncFunction","defineProperty","configurable","desc","Reflect","deleteProperty","wrapEvent","wrapperMap","addListener","listener","hasListener","removeListener","onRequestFinishedWrappers","req","wrappedReq","getContent","loggedSendResponseDeprecationWarning","onMessageWrappers","sender","sendResponse","wrappedSendResponse","result","didCallSendResponse","sendResponsePromise","response","stack","err","isResultThenable","then","msg","error","__mozWebExtensionPolyfillReject__","catch","wrappedSendMessageCallback","reply","wrappedSendMessage","apiNamespaceObj","wrappedCb","push","sendMessage","staticWrappers","devtools","network","onRequestFinished","onMessage","onMessageExternal","tabs","settingMetadata","clear","privacy","services","websites","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","e","rejected","done","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","pop","JSONRPCClient","models_1","internal_1","_send","createID","idToResolveMap","Map","_createID","timeout","delay","overrideCreateJSONRPCErrorResponse","_this","createJSONRPCErrorResponse","DefaultErrorCode","timeoutRequest","ids","request","timeoutID","setTimeout","forEach","delete","clearTimeout","params","clientParams","requestWithID","requestAdvanced","isArray","map","filter","isDefinedAndNonNull","_a","createJSONRPCRequest","undefined","JSONRPCErrorException","code","data","requests","areRequestsOriginallyArray","requestsWithID","promises","all","responses","send","receive","notify","createJSONRPCNotification","payload","rejectAllPendingRequests","__createBinding","o","m","k","k2","getOwnPropertyDescriptor","__esModule","writable","__exportStar","p","extendStatics","__extends","d","b","setPrototypeOf","__proto__","String","__","createJSONRPCSuccessResponse","JSONRPCErrorCode","isJSONRPCResponses","isJSONRPCResponse","isJSONRPCRequests","isJSONRPCRequest","isJSONRPCID","JSONRPC","jsonrpc","every","createJSONRPCError","_super","toObject","JSONRPCServerAndClient","server","client","options","errorListener","applyServerMiddleware","middlewares","_i","arguments","applyMiddleware","hasMethod","addMethod","addMethodAdvanced","jsonRPCRequest","receiveAndSend","serverParams","__assign","assign","s","i","__spreadArray","to","pack","ar","l","slice","concat","JSONRPCServer","createInvalidRequestResponse","InvalidRequest","mapErrorToJSONRPCErrorResponse","defaultMapErrorToJSONRPCErrorResponse","nameToMethodDictionary","middleware","toJSONRPCMethod","mapResultToJSONRPCResponse","receiveJSON","json","tryParseRequestJSON","ParseError","JSON","parse","receiveMultiple","receiveSingle","isNonNull","callMethod","mapResponse","combineMiddlewares","reduce","middlewareReducer","prevMiddleware","nextMiddleware","onError","mapErrorToJSONRPCErrorResponseIfNecessary","noopMiddleware","MethodNotFound","InternalError","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","a","definition","obj","createNanoEvents","events","emit","event","on","cb","NonError","_prepareSuperMessage","static","stringify","commonProperties","property","toJsonWasCalled","destroyCircular","seen","to_","forceEnumerable","maxDepth","depth","toJSON","entries","Buffer","isBuffer","pipe","includes","namespace","ENDPOINT_RE","parseEndpoint","endpoint","context2","tabId","frameId","match","context","hasAPI","nsps","_b","_c","manifest","window","popupPage","browser_action","default_popup","action","URL","pathname","location","options_ui","page","getBackgroundPageType","document","runtimeId","openTransactions","onMessageListeners","messageQueue","Set","portMap","port","routeMessage","origin","destination","hops","some","async","transactionId","messageID","messageType","transactionP","dehydratedErr","errCtr","hydratedErr","handleReply","noHandlerFoundError","timestamp","Number","POSITIVE_INFINITY","serializeError","handleNewMessage","handleInboundMessage","routeMessageThroughWindow","postMessage","destName","destTabId","destFrameId","srcTabId","resolvedDestination","destPort","add","handleWindowOnMessage","ports","cmd","scope","win","ensureNamespaceSet","channel","MessageChannel","retry","port1","onmessage","port2","callback","errFn","dest","Date","now","initIntercoms","addEventListener","top","onDisconnect","incomingPort","portId","tab","portFrame","linkedTabId","linkedFrameId","queuedMsg","_Stream","handleStreamClose","isClosed","emitter","internalInfo","initDone","streamId","streamTransfer","stream","openStreams","info","close","getDisposable","onClose","off","dispose","Stream","onOpenStreamCallbacks","streamyEmitter","watching","readyup","createGrantService","storage","getIsGranted","getItem","grantedUrls","host","grant","errors","setItem","revoke","revoked","handler","servicesFactory","store","hasItem","removeItem","getAll","fromEntries","setAll","grantService","notificationService","requestGrant","url","lastFocused","type","focused","left","width","height","notification","notificationTabId","getRequesterAppInfoListener","userHasEnabledWalletListener","windowId","requestSignTransaction","requestSignData","createServicesFactory","createRpcServerParams","getRequesterAppInfo","favIconUrl","resolveService","codeHash","hashType"],"sourceRoot":""}