{"version":3,"file":"content.js","mappings":"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","sources":["webpack://@ckb-js/nexus-extension-chrome/../../node_modules/tiny-uid/index.js","webpack://@ckb-js/nexus-extension-chrome/../../node_modules/webext-bridge/node_modules/webextension-polyfill/dist/browser-polyfill.js","webpack://@ckb-js/nexus-extension-chrome/webpack/bootstrap","webpack://@ckb-js/nexus-extension-chrome/../../node_modules/nanoevents/index.js","webpack://@ckb-js/nexus-extension-chrome/../../node_modules/serialize-error/index.js","webpack://@ckb-js/nexus-extension-chrome/../../node_modules/webext-bridge/dist/index.mjs","webpack://@ckb-js/nexus-extension-chrome/./src/contentScript/content.ts"],"sourcesContent":["const generator = (base) => (\n\ttypeof crypto !== 'undefined' && typeof crypto.getRandomValues === 'function'\n\t\t? () => {\n\t\t\tconst num = crypto.getRandomValues(new Uint8Array(1))[0];\n\t\t\treturn (num >= base ? num % base : num).toString(base)\n\t\t}\n\t\t: () => Math.floor(Math.random() * base).toString(base)\n);\n\nconst uid = (length = 7, hex = false) => (\n\tArray.from({ length }, generator(hex ? 16 : 36)).join('')\n);\n\n// Legacy\nmodule.exports = uid;\n// ES6+\nmodule.exports.default = uid;\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.9.0 - Fri Mar 25 2022 17:00:23 */\n\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n\n  /* vim: set sts=2 sw=2 et tw=80: */\n\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (typeof globalThis != \"object\" || typeof chrome != \"object\" || !chrome || !chrome.runtime || !chrome.runtime.id) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n\n  if (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n    const SEND_RESPONSE_DEPRECATION_WARNING = \"Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)\"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n\n\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n\n          return super.get(key);\n        }\n\n      }\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n\n\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.reject\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n\n\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n\n\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args); // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n\n\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n\n        });\n      };\n\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n\n            if (!(prop in target)) {\n              return undefined;\n            }\n\n            let value = target[prop];\n\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n\n                get() {\n                  return target[prop];\n                },\n\n                set(value) {\n                  target[prop] = value;\n                }\n\n              });\n              return value;\n            }\n\n            cache[prop] = value;\n            return value;\n          },\n\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n\n            return true;\n          },\n\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n\n        }; // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n\n\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n\n      });\n\n      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps an onRequestFinished listener function so that it will return a\n         * `getContent()` property which returns a `Promise` rather than using a\n         * callback API.\n         *\n         * @param {object} req\n         *        The HAR entry object representing the network request.\n         */\n\n\n        return function onRequestFinished(req) {\n          const wrappedReq = wrapObject(req, {}\n          /* wrappers */\n          , {\n            getContent: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          });\n          listener(wrappedReq);\n        };\n      }); // Keep track if the deprecation warning has been logged at least once.\n\n      let loggedSendResponseDeprecationWarning = false;\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n\n\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              if (!loggedSendResponseDeprecationWarning) {\n                console.warn(SEND_RESPONSE_DEPRECATION_WARNING, new Error().stack);\n                loggedSendResponseDeprecationWarning = true;\n              }\n\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n\n          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          } // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n\n\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          }; // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n\n\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          } // Let Chrome know that the listener is replying.\n\n\n          return true;\n        };\n      });\n\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(new Error(extensionAPIs.runtime.lastError.message));\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n\n      const staticWrappers = {\n        devtools: {\n          network: {\n            onRequestFinished: wrapEvent(onRequestFinishedWrappers)\n          }\n        },\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    }; // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n\n\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = globalThis.browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","export let createNanoEvents = () => ({\n  events: {},\n  emit(event, ...args) {\n    ;(this.events[event] || []).forEach(i => i(...args))\n  },\n  on(event, cb) {\n    ;(this.events[event] = this.events[event] || []).push(cb)\n    return () =>\n      (this.events[event] = (this.events[event] || []).filter(i => i !== cb))\n  }\n})\n","export class NonError extends Error {\n\tname = 'NonError';\n\n\tconstructor(message) {\n\t\tsuper(NonError._prepareSuperMessage(message));\n\t}\n\n\tstatic _prepareSuperMessage(message) {\n\t\ttry {\n\t\t\treturn JSON.stringify(message);\n\t\t} catch {\n\t\t\treturn String(message);\n\t\t}\n\t}\n}\n\nconst commonProperties = [\n\t{\n\t\tproperty: 'name',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'message',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'stack',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'code',\n\t\tenumerable: true,\n\t},\n];\n\nconst toJsonWasCalled = Symbol('.toJSON was called');\n\nconst toJSON = from => {\n\tfrom[toJsonWasCalled] = true;\n\tconst json = from.toJSON();\n\tdelete from[toJsonWasCalled];\n\treturn json;\n};\n\nconst destroyCircular = ({\n\tfrom,\n\tseen,\n\tto_,\n\tforceEnumerable,\n\tmaxDepth,\n\tdepth,\n}) => {\n\tconst to = to_ || (Array.isArray(from) ? [] : {});\n\n\tseen.push(from);\n\n\tif (depth >= maxDepth) {\n\t\treturn to;\n\t}\n\n\tif (typeof from.toJSON === 'function' && from[toJsonWasCalled] !== true) {\n\t\treturn toJSON(from);\n\t}\n\n\tfor (const [key, value] of Object.entries(from)) {\n\t\t// eslint-disable-next-line node/prefer-global/buffer\n\t\tif (typeof Buffer === 'function' && Buffer.isBuffer(value)) {\n\t\t\tto[key] = '[object Buffer]';\n\t\t\tcontinue;\n\t\t}\n\n\t\t// TODO: Use `stream.isReadable()` when targeting Node.js 18.\n\t\tif (value !== null && typeof value === 'object' && typeof value.pipe === 'function') {\n\t\t\tto[key] = '[object Stream]';\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (typeof value === 'function') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!value || typeof value !== 'object') {\n\t\t\tto[key] = value;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!seen.includes(from[key])) {\n\t\t\tdepth++;\n\n\t\t\tto[key] = destroyCircular({\n\t\t\t\tfrom: from[key],\n\t\t\t\tseen: [...seen],\n\t\t\t\tforceEnumerable,\n\t\t\t\tmaxDepth,\n\t\t\t\tdepth,\n\t\t\t});\n\t\t\tcontinue;\n\t\t}\n\n\t\tto[key] = '[Circular]';\n\t}\n\n\tfor (const {property, enumerable} of commonProperties) {\n\t\tif (typeof from[property] === 'string') {\n\t\t\tObject.defineProperty(to, property, {\n\t\t\t\tvalue: from[property],\n\t\t\t\tenumerable: forceEnumerable ? true : enumerable,\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t});\n\t\t}\n\t}\n\n\treturn to;\n};\n\nexport function serializeError(value, options = {}) {\n\tconst {maxDepth = Number.POSITIVE_INFINITY} = options;\n\n\tif (typeof value === 'object' && value !== null) {\n\t\treturn destroyCircular({\n\t\t\tfrom: value,\n\t\t\tseen: [],\n\t\t\tforceEnumerable: true,\n\t\t\tmaxDepth,\n\t\t\tdepth: 0,\n\t\t});\n\t}\n\n\t// People sometimes throw things besides Error objects\n\tif (typeof value === 'function') {\n\t\t// `JSON.stringify()` discards functions. We do too, unless a function is thrown directly.\n\t\treturn `[Function: ${(value.name || 'anonymous')}]`;\n\t}\n\n\treturn value;\n}\n\nexport function deserializeError(value, options = {}) {\n\tconst {maxDepth = Number.POSITIVE_INFINITY} = options;\n\n\tif (value instanceof Error) {\n\t\treturn value;\n\t}\n\n\tif (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n\t\tconst newError = new Error(); // eslint-disable-line unicorn/error-message\n\t\tdestroyCircular({\n\t\t\tfrom: value,\n\t\t\tseen: [],\n\t\t\tto_: newError,\n\t\t\tmaxDepth,\n\t\t\tdepth: 0,\n\t\t});\n\t\treturn newError;\n\t}\n\n\treturn new NonError(value);\n}\n","// src/stream.ts\nimport { createNanoEvents } from \"nanoevents\";\n\n// src/internal.ts\nimport browser2 from \"webextension-polyfill\";\nimport { serializeError } from \"serialize-error\";\nimport uuid from \"tiny-uid\";\n\n// src/utils.ts\nimport browser from \"webextension-polyfill\";\nvar ENDPOINT_RE = /^((?:background$)|devtools|popup|options|content-script|window)(?:@(\\d+)(?:\\.(\\d+))?)?$/;\nvar parseEndpoint = (endpoint) => {\n  const [, context2, tabId, frameId] = endpoint.match(ENDPOINT_RE) || [];\n  return {\n    context: context2,\n    tabId: +tabId,\n    frameId: frameId ? +frameId : void 0\n  };\n};\nvar isInternalEndpoint = ({ context: ctx }) => [\"content-script\", \"background\", \"devtools\"].includes(ctx);\nvar hasAPI = (nsps) => browser[nsps];\nvar getBackgroundPageType = () => {\n  var _a, _b, _c;\n  const manifest = browser.runtime.getManifest();\n  if (typeof window === \"undefined\")\n    return \"background\";\n  const popupPage = ((_a = manifest.browser_action) == null ? void 0 : _a.default_popup) || ((_b = manifest.action) == null ? void 0 : _b.default_popup);\n  if (popupPage) {\n    const url = new URL(browser.runtime.getURL(popupPage));\n    if (url.pathname === window.location.pathname)\n      return \"popup\";\n  }\n  if ((_c = manifest.options_ui) == null ? void 0 : _c.page) {\n    const url = new URL(browser.runtime.getURL(manifest.options_ui.page));\n    if (url.pathname === window.location.pathname)\n      return \"options\";\n  }\n  return \"background\";\n};\n\n// src/internal.ts\nvar context = hasAPI(\"devtools\") ? \"devtools\" : hasAPI(\"tabs\") ? getBackgroundPageType() : hasAPI(\"extension\") ? \"content-script\" : typeof document !== \"undefined\" ? \"window\" : null;\nvar runtimeId = uuid();\nvar openTransactions = /* @__PURE__ */ new Map();\nvar onMessageListeners = /* @__PURE__ */ new Map();\nvar messageQueue = /* @__PURE__ */ new Set();\nvar portMap = /* @__PURE__ */ new Map();\nvar port = null;\nvar namespace;\nvar isWindowMessagingAllowed;\ninitIntercoms();\nfunction setNamespace(nsps) {\n  namespace = nsps;\n}\nfunction allowWindowMessaging(nsps) {\n  isWindowMessagingAllowed = true;\n  namespace = nsps;\n}\nfunction initIntercoms() {\n  if (context === null)\n    throw new Error(\"Unable to detect runtime context i.e webext-bridge can't figure out what to do\");\n  if (context === \"window\" || context === \"content-script\")\n    window.addEventListener(\"message\", handleWindowOnMessage);\n  if (context === \"content-script\" && top === window) {\n    port = browser2.runtime.connect();\n    port.onMessage.addListener((message) => {\n      routeMessage(message);\n    });\n    port.onDisconnect.addListener(() => {\n      port = null;\n      initIntercoms();\n    });\n  }\n  if (context === \"content-script\" && top !== window) {\n    port = browser2.runtime.connect();\n    port.onMessage.addListener((message) => {\n      routeMessage(message);\n    });\n    port.onDisconnect.addListener(() => {\n      port = null;\n      initIntercoms();\n    });\n  }\n  if (context === \"devtools\") {\n    const { tabId } = browser2.devtools.inspectedWindow;\n    const name = `devtools@${tabId}`;\n    port = browser2.runtime.connect(void 0, { name });\n    port.onMessage.addListener((message) => {\n      routeMessage(message);\n    });\n    port.onDisconnect.addListener(() => {\n      port = null;\n      initIntercoms();\n    });\n  }\n  if (context === \"popup\" || context === \"options\") {\n    const name = `${context}`;\n    port = browser2.runtime.connect(void 0, { name });\n    port.onMessage.addListener((message) => {\n      routeMessage(message);\n    });\n    port.onDisconnect.addListener(() => {\n      port = null;\n      initIntercoms();\n    });\n  }\n  if (context === \"background\") {\n    browser2.runtime.onConnect.addListener((incomingPort) => {\n      let portId = incomingPort.name || `content-script@${incomingPort.sender.tab.id}`;\n      const portFrame = incomingPort.sender.frameId;\n      if (portFrame)\n        portId = `${portId}.${portFrame}`;\n      const { context: context2, tabId: linkedTabId, frameId: linkedFrameId } = parseEndpoint(portId);\n      if (!linkedTabId && context2 !== \"popup\" && context2 !== \"options\")\n        return;\n      portMap.set(portId, incomingPort);\n      messageQueue.forEach((queuedMsg) => {\n        if (queuedMsg.resolvedDestination === portId) {\n          incomingPort.postMessage(queuedMsg.message);\n          messageQueue.delete(queuedMsg);\n        }\n      });\n      incomingPort.onDisconnect.addListener(() => {\n        portMap.delete(portId);\n      });\n      incomingPort.onMessage.addListener((message) => {\n        var _a;\n        if ((_a = message == null ? void 0 : message.origin) == null ? void 0 : _a.context) {\n          message.origin.tabId = linkedTabId;\n          message.origin.frameId = linkedFrameId;\n          routeMessage(message);\n        }\n      });\n    });\n  }\n}\nfunction routeMessage(message) {\n  const { origin, destination } = message;\n  if (message.hops.includes(runtimeId))\n    return;\n  message.hops.push(runtimeId);\n  if (context === \"content-script\" && [destination, origin].some((endpoint) => (endpoint == null ? void 0 : endpoint.context) === \"window\") && !isWindowMessagingAllowed)\n    return;\n  if (!destination)\n    return handleInboundMessage(message);\n  if (destination.context) {\n    if (context === \"window\") {\n      return routeMessageThroughWindow(window, message);\n    } else if (context === \"content-script\" && destination.context === \"window\") {\n      message.destination = null;\n      return routeMessageThroughWindow(window, message);\n    } else if ([\"devtools\", \"content-script\", \"popup\", \"options\"].includes(context)) {\n      if (destination.context === \"background\")\n        message.destination = null;\n      return port.postMessage(message);\n    } else if (context === \"background\") {\n      const { context: destName, tabId: destTabId, frameId: destFrameId } = destination;\n      const { tabId: srcTabId } = origin;\n      if (destName !== \"window\") {\n        message.destination = null;\n      } else {\n        message.destination.tabId = null;\n      }\n      let resolvedDestination = [\"popup\", \"options\"].includes(destName) ? destName : `${destName === \"window\" ? \"content-script\" : destName}@${destTabId || srcTabId}`;\n      if (destFrameId)\n        resolvedDestination = `${resolvedDestination}.${destFrameId}`;\n      const destPort = portMap.get(resolvedDestination);\n      if (destPort)\n        destPort.postMessage(message);\n      else\n        messageQueue.add({ resolvedDestination, message });\n    }\n  }\n}\nasync function handleInboundMessage(message) {\n  const { transactionId, messageID, messageType } = message;\n  const handleReply = () => {\n    const transactionP = openTransactions.get(transactionId);\n    if (transactionP) {\n      const { err, data } = message;\n      if (err) {\n        const dehydratedErr = err;\n        const errCtr = self[dehydratedErr.name];\n        const hydratedErr = new (typeof errCtr === \"function\" ? errCtr : Error)(dehydratedErr.message);\n        for (const prop in dehydratedErr)\n          hydratedErr[prop] = dehydratedErr[prop];\n        transactionP.reject(hydratedErr);\n      } else {\n        transactionP.resolve(data);\n      }\n      openTransactions.delete(transactionId);\n    }\n  };\n  const handleNewMessage = async () => {\n    let reply;\n    let err;\n    let noHandlerFoundError = false;\n    try {\n      const cb = onMessageListeners.get(messageID);\n      if (typeof cb === \"function\") {\n        reply = await cb({\n          sender: message.origin,\n          id: messageID,\n          data: message.data,\n          timestamp: message.timestamp\n        });\n      } else {\n        noHandlerFoundError = true;\n        throw new Error(`[webext-bridge] No handler registered in '${context}' to accept messages with id '${messageID}'`);\n      }\n    } catch (error) {\n      err = error;\n    } finally {\n      if (err)\n        message.err = serializeError(err);\n      routeMessage({\n        ...message,\n        messageType: \"reply\",\n        data: reply,\n        origin: { context, tabId: null },\n        destination: message.origin,\n        hops: []\n      });\n      if (err && !noHandlerFoundError)\n        throw reply;\n    }\n  };\n  switch (messageType) {\n    case \"reply\":\n      return handleReply();\n    case \"message\":\n      return handleNewMessage();\n  }\n}\nfunction assertInternalMessage(msg) {\n}\nasync function handleWindowOnMessage({ data, ports }) {\n  if (context === \"content-script\" && !isWindowMessagingAllowed)\n    return;\n  if (data.cmd === \"__crx_bridge_verify_listening\" && data.scope === namespace && data.context !== context) {\n    const msgPort = ports[0];\n    msgPort.postMessage(true);\n  } else if (data.cmd === \"__crx_bridge_route_message\" && data.scope === namespace && data.context !== context) {\n    const { payload } = data;\n    assertInternalMessage(payload);\n    if (context === \"content-script\") {\n      payload.origin = {\n        context: \"window\",\n        tabId: null\n      };\n    }\n    routeMessage(payload);\n  }\n}\nfunction routeMessageThroughWindow(win, msg) {\n  ensureNamespaceSet();\n  const channel = new MessageChannel();\n  const retry = setTimeout(() => {\n    channel.port1.onmessage = null;\n    routeMessageThroughWindow(win, msg);\n  }, 300);\n  channel.port1.onmessage = () => {\n    clearTimeout(retry);\n    win.postMessage({\n      cmd: \"__crx_bridge_route_message\",\n      scope: namespace,\n      context,\n      payload: msg\n    }, \"*\");\n  };\n  win.postMessage({\n    cmd: \"__crx_bridge_verify_listening\",\n    scope: namespace,\n    context\n  }, \"*\", [channel.port2]);\n}\nfunction ensureNamespaceSet() {\n  if (typeof namespace !== \"string\" || namespace.length === 0) {\n    throw new Error(`webext-bridge uses window.postMessage to talk with other \"window\"(s), for message routing and stuff,which is global/conflicting operation in case there are other scripts using webext-bridge. Call Bridge#setNamespace(nsps) to isolate your app. Example: setNamespace('com.facebook.react-devtools'). Make sure to use same namespace across all your scripts whereever window.postMessage is likely to be used\\``);\n  }\n}\nfunction getCurrentContext() {\n  return context;\n}\n\n// src/apis/onMessage.ts\nfunction onMessage(messageID, callback) {\n  onMessageListeners.set(messageID, callback);\n}\n\n// src/apis/sendMessage.ts\nimport uuid2 from \"tiny-uid\";\nasync function sendMessage(messageID, data, destination = \"background\") {\n  const endpoint = typeof destination === \"string\" ? parseEndpoint(destination) : destination;\n  const errFn = \"Bridge#sendMessage ->\";\n  if (!endpoint.context)\n    throw new TypeError(`${errFn} Destination must be any one of known destinations`);\n  if (context === \"background\") {\n    const { context: dest, tabId: destTabId } = endpoint;\n    if (dest !== \"background\" && !destTabId)\n      throw new TypeError(`${errFn} When sending messages from background page, use @tabId syntax to target specific tab`);\n  }\n  return new Promise((resolve, reject) => {\n    const payload = {\n      messageID,\n      data,\n      destination: endpoint,\n      messageType: \"message\",\n      transactionId: uuid2(),\n      origin: { context, tabId: null },\n      hops: [],\n      timestamp: Date.now()\n    };\n    openTransactions.set(payload.transactionId, { resolve, reject });\n    routeMessage(payload);\n  });\n}\n\n// src/stream.ts\nvar _Stream = class {\n  constructor(t) {\n    this.handleStreamClose = () => {\n      if (!this.isClosed) {\n        this.isClosed = true;\n        this.emitter.emit(\"closed\", true);\n        this.emitter.events = {};\n      }\n    };\n    this.internalInfo = t;\n    this.emitter = createNanoEvents();\n    this.isClosed = false;\n    if (!_Stream.initDone) {\n      onMessage(\"__crx_bridge_stream_transfer__\", (msg) => {\n        const { streamId, streamTransfer, action } = msg.data;\n        const stream = _Stream.openStreams.get(streamId);\n        if (stream && !stream.isClosed) {\n          if (action === \"transfer\")\n            stream.emitter.emit(\"message\", streamTransfer);\n          if (action === \"close\") {\n            _Stream.openStreams.delete(streamId);\n            stream.handleStreamClose();\n          }\n        }\n      });\n      _Stream.initDone = true;\n    }\n    _Stream.openStreams.set(t.streamId, this);\n  }\n  get info() {\n    return this.internalInfo;\n  }\n  send(msg) {\n    if (this.isClosed)\n      throw new Error(\"Attempting to send a message over closed stream. Use stream.onClose(<callback>) to keep an eye on stream status\");\n    sendMessage(\"__crx_bridge_stream_transfer__\", {\n      streamId: this.internalInfo.streamId,\n      streamTransfer: msg,\n      action: \"transfer\"\n    }, this.internalInfo.endpoint);\n  }\n  close(msg) {\n    if (msg)\n      this.send(msg);\n    this.handleStreamClose();\n    sendMessage(\"__crx_bridge_stream_transfer__\", {\n      streamId: this.internalInfo.streamId,\n      streamTransfer: null,\n      action: \"close\"\n    }, this.internalInfo.endpoint);\n  }\n  onMessage(callback) {\n    return this.getDisposable(\"message\", callback);\n  }\n  onClose(callback) {\n    return this.getDisposable(\"closed\", callback);\n  }\n  getDisposable(event, callback) {\n    const off = this.emitter.on(event, callback);\n    return Object.assign(off, {\n      dispose: off,\n      close: off\n    });\n  }\n};\nvar Stream = _Stream;\nStream.initDone = false;\nStream.openStreams = /* @__PURE__ */ new Map();\n\n// src/bridge.ts\nimport uuid3 from \"tiny-uid\";\nimport { createNanoEvents as createNanoEvents2 } from \"nanoevents\";\nvar openStreams = /* @__PURE__ */ new Map();\nvar onOpenStreamCallbacks = /* @__PURE__ */ new Map();\nvar streamyEmitter = createNanoEvents2();\nonMessage(\"__crx_bridge_stream_open__\", (message) => {\n  return new Promise((resolve) => {\n    const { sender, data } = message;\n    const { channel } = data;\n    let watching = false;\n    let off = () => {\n    };\n    const readyup = () => {\n      const callback = onOpenStreamCallbacks.get(channel);\n      if (typeof callback === \"function\") {\n        callback(new Stream({ ...data, endpoint: sender }));\n        if (watching)\n          off();\n        resolve(true);\n      } else if (!watching) {\n        watching = true;\n        off = streamyEmitter.on(\"did-change-stream-callbacks\", readyup);\n      }\n    };\n    readyup();\n  });\n});\nasync function openStream(channel, destination) {\n  if (openStreams.has(channel))\n    throw new Error(\"webext-bridge: A Stream is already open at this channel\");\n  const endpoint = typeof destination === \"string\" ? parseEndpoint(destination) : destination;\n  const streamInfo = { streamId: uuid3(), channel, endpoint };\n  const stream = new Stream(streamInfo);\n  stream.onClose(() => openStreams.delete(channel));\n  await sendMessage(\"__crx_bridge_stream_open__\", streamInfo, endpoint);\n  openStreams.set(channel, stream);\n  return stream;\n}\nfunction onOpenStreamChannel(channel, callback) {\n  if (onOpenStreamCallbacks.has(channel))\n    throw new Error(\"webext-bridge: This channel has already been claimed. Stream allows only one-on-one communication\");\n  onOpenStreamCallbacks.set(channel, callback);\n  streamyEmitter.emit(\"did-change-stream-callbacks\");\n}\nexport {\n  Stream,\n  allowWindowMessaging,\n  getCurrentContext,\n  isInternalEndpoint,\n  onMessage,\n  onOpenStreamChannel,\n  openStream,\n  parseEndpoint,\n  sendMessage,\n  setNamespace\n};\n","import { sendMessage } from 'webext-bridge';\n\nfunction injectScript(): void {\n  const script = document.createElement('script');\n  script.async = false;\n  script.src = chrome.runtime.getURL('inpage.js');\n  script.onload = () => script.remove();\n  (document.head || document.documentElement).appendChild(script);\n}\n\nwindow.addEventListener('message', (event) => {\n  if (event.data.target === 'NEXUS_INPAGE') {\n    sendMessage('notification', {}, 'background');\n  }\n});\n\nif (document.doctype?.name === 'html') {\n  injectScript();\n}\n"],"names":["uid","length","hex","Array","from","base","crypto","getRandomValues","num","Uint8Array","toString","Math","floor","random","join","module","exports","globalThis","self","chrome","runtime","id","Error","browser","Object","getPrototypeOf","prototype","CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE","SEND_RESPONSE_DEPRECATION_WARNING","wrapAPIs","extensionAPIs","apiMetadata","keys","DefaultWeakMap","WeakMap","constructor","createItem","items","super","this","get","key","has","set","makeCallback","promise","metadata","callbackArgs","lastError","reject","message","singleCallbackArg","resolve","pluralizeArguments","numArgs","wrapMethod","target","method","wrapper","Proxy","apply","targetMethod","thisObj","args","call","hasOwnProperty","Function","bind","wrapObject","wrappers","cache","create","handlers","proxyTarget","prop","receiver","value","name","minArgs","maxArgs","Promise","fallbackToNoCallback","cbError","console","warn","noCallback","wrapAsyncFunction","defineProperty","configurable","enumerable","desc","Reflect","deleteProperty","wrapEvent","wrapperMap","addListener","listener","hasListener","removeListener","onRequestFinishedWrappers","req","wrappedReq","getContent","loggedSendResponseDeprecationWarning","onMessageWrappers","sender","sendResponse","wrappedSendResponse","result","didCallSendResponse","sendResponsePromise","response","stack","err","isResultThenable","then","msg","error","__mozWebExtensionPolyfillReject__","catch","wrappedSendMessageCallback","reply","wrappedSendMessage","apiNamespaceObj","wrappedCb","push","sendMessage","staticWrappers","devtools","network","onRequestFinished","onMessage","onMessageExternal","tabs","settingMetadata","clear","privacy","services","websites","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","createNanoEvents","events","emit","event","forEach","i","on","cb","filter","NonError","_prepareSuperMessage","static","JSON","stringify","String","commonProperties","property","toJsonWasCalled","Symbol","destroyCircular","seen","to_","forceEnumerable","maxDepth","depth","to","isArray","toJSON","json","entries","Buffer","isBuffer","pipe","includes","writable","namespace","ENDPOINT_RE","parseEndpoint","endpoint","context2","tabId","frameId","match","context","hasAPI","nsps","_a","_b","_c","manifest","window","popupPage","browser_action","default_popup","action","URL","pathname","location","options_ui","page","getBackgroundPageType","document","runtimeId","openTransactions","Map","onMessageListeners","messageQueue","Set","portMap","port","routeMessage","origin","destination","hops","some","async","transactionId","messageID","messageType","transactionP","data","dehydratedErr","errCtr","hydratedErr","delete","handleReply","noHandlerFoundError","timestamp","options","Number","POSITIVE_INFINITY","serializeError","handleNewMessage","handleInboundMessage","routeMessageThroughWindow","postMessage","destName","destTabId","destFrameId","srcTabId","resolvedDestination","destPort","add","handleWindowOnMessage","ports","cmd","scope","payload","win","ensureNamespaceSet","channel","MessageChannel","retry","setTimeout","port1","onmessage","clearTimeout","port2","callback","errFn","TypeError","dest","Date","now","initIntercoms","addEventListener","top","onDisconnect","incomingPort","portId","tab","portFrame","linkedTabId","linkedFrameId","queuedMsg","_Stream","t","handleStreamClose","isClosed","emitter","internalInfo","initDone","streamId","streamTransfer","stream","openStreams","info","send","close","getDisposable","onClose","off","assign","dispose","Stream","script","onOpenStreamCallbacks","streamyEmitter","watching","readyup","doctype","createElement","src","getURL","onload","remove","head","documentElement","appendChild"],"sourceRoot":""}